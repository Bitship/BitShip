/**
 * Write your model definitions here
 */

namespace org.bitship

/* Participants */

enum ParticipantType {
    o PERSONAL
    o COMPANY
}

participant Sender identified by senderId {
  o String senderId
  o String name
  o String email
  o String phone
  o String address
  o ParticipantType type
}

participant Receiver identified by receiverId {
  o String receiverId
  o String firstName
  o String lastName
  o String phone
  o String address
  o ParticipantType type
}

participant Inspector identified by inspectorId {
  o String inspectorId
  o String name
}

participant ShipmentOrg identified by shipmentOrgId {
  o String shipmentOrgId
  o String name
}

participant ShipmentVehicle identified by shipmentVehicleId {
  o String shipmentVehicleId
  --> ShipmentOrg owner
}

participant Shipper identified by shipperId {
  o String shipperId
  o String firstName
  o String lastName
  --> ShipmentOrg employee
}

participant Warehouse identified by warehouseId {
  o String warehouseId
}

/* Assets */

asset Package identified by barcode {
  o String barcode
  --> Sender sender
  --> Receiver receiver
  o Double weight
  o Location location
}

/* Transactions */

enum SessionStatus {
  o IN_PROGRESS
  o DONE
}

concept Location {
  o Double lat
  o Double lon
}

transaction ShipmentSession {
  --> ShipmentVehicle vehicle
  --> Shipper shipper
  o Package[] packages
  o SessionStatus status

  o Location location
}

transaction WarehouseSession {
  o Package[] packages
  o SessionStatus status
}

enum InspectionStatus {
  o OK
  o NOT_OK
}

enum InspectionType {
  o CHECK_IN
  o CHECK_OUT
}

transaction Inspection {
  --> Inspector inspector
  --> Warehouse warehouse
  o InspectionType type
  o String shipmentSessionId // transaction id of the inspected shipmentSession
  o String warehouseSessionId // transaction id of the warehouse where the inspection take place
  o InspectionStatus status
  o String note
}
